(function(){var e;var t=0;if(!"console"in window){window.console={log:function(){}}}if(typeof window.Bixt=="undefined"){if(t){document.write('<iframe id="Bixt_sys_iframe" name="Bixt_sys_iframe" src="javascript:false;" '+' class="Bixt_sys_iframe" style="display:none;height:1px;" '+' frameborder="0" scrolling="no" '+"></iframe>");document.write(' <style type="text/css">'+".bixt_tooltip {"+"	border-bottom: 1px dotted #000000; "+"	color: #000000;"+"	outline: none;"+"	_cursor: help;"+"	text-decoration: none;"+"	position: relative;"+"}"+".bixt_tooltip span {"+"	margin-left: -999em;"+"	position: absolute;"+"}"+".bixt_tooltip:hover span {"+"	border-radius: 5px 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px;"+"	box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1); -webkit-box-shadow: 5px 5px rgba(0, 0, 0, 0.1); -moz-box-shadow: 5px 5px rgba(0, 0, 0, 0.1);"+"	font-family: Calibri, Tahoma, Geneva, sans-serif;"+"	position: absolute; left: 1em; top: 2em; z-index: 99;"+"margin-left: 0; width: 250px;"+"}"+".bixt_tooltip:hover img {"+"	border: 0; margin: -10px 0 0 -55px;"+"float: left; position: absolute;"+"}"+".bixt_tooltip:hover em {"+"		font-family: Candara, Tahoma, Geneva, sans-serif; font-size: 1.2em; font-weight: bold;"+"		display: block; padding: 0.2em 0 0.3em 0;"+" }"+" .bixt_tooltip_classic { padding: 0.3em 0.5em; }"+" * html a:hover { background: transparent; }"+" .bixt_tooltip_classic {background: #eee; color:#666; border: 1px solid #bbb; }"+" </style>")}if(!e){if(e){throw Error("can't load XRegExp twice in the same frame")}(function(){function h(t,n){if(!e.isRegExp(t)){throw TypeError("type RegExp expected")}var r=t._xregexp;t=e(t.source,p(t)+(n||""));if(r){t._xregexp={source:r.source,captureNames:r.captureNames?r.captureNames.slice(0):null}}return t}function p(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function d(e,t,n,r){var o=s.length,u,a,f;i=true;try{while(o--){f=s[o];if(n&f.scope&&(!f.trigger||f.trigger.call(r))){f.pattern.lastIndex=t;a=f.pattern.exec(e);if(a&&a.index===t){u={output:f.handler.call(r,a,n),match:a};break}}}}catch(l){throw l}finally{i=false}return u}function v(e,t,n){if(Array.prototype.indexOf){return e.indexOf(t,n)}for(var r=n||0;r<e.length;r++){if(e[r]===t){return r}}return-1}e=function(t,r){var s=[],u=e.OUTSIDE_CLASS,a=0,f,l,p,v,y;if(e.isRegExp(t)){if(r!==undefined){throw TypeError("can't supply flags when constructing one RegExp from another")}return h(t)}if(i){throw Error("can't call the XRegExp constructor within token definition functions")}r=r||"";f={hasNamedCapture:false,captureNames:[],hasFlag:function(e){return r.indexOf(e)>-1},setFlag:function(e){r+=e}};while(a<t.length){l=d(t,a,u,f);if(l){s.push(l.output);a+=l.match[0].length||1}else{if(p=o.exec.call(c[u],t.slice(a))){s.push(p[0]);a+=p[0].length}else{v=t.charAt(a);if(v==="["){u=e.INSIDE_CLASS}else{if(v==="]"){u=e.OUTSIDE_CLASS}}s.push(v);a++}}}y=RegExp(s.join(""),o.replace.call(r,n,""));y._xregexp={source:t,captureNames:f.hasNamedCapture?f.captureNames:null};return y};e.version="1.5.0";e.INSIDE_CLASS=1;e.OUTSIDE_CLASS=2;var t=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,n=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,r=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,i=false,s=[],o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},u=o.exec.call(/()??/,"")[1]===undefined,a=function(){var e=/^/g;o.test.call(e,"");return!e.lastIndex}(),f=function(){var e=/x/g;o.replace.call("x",e,"");return!e.lastIndex}(),l=RegExp.prototype.sticky!==undefined,c={};c[e.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/;c[e.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/;e.addToken=function(t,n,r,i){s.push({pattern:h(t,"g"+(l?"y":"")),handler:n,scope:r||e.OUTSIDE_CLASS,trigger:i||null})};e.cache=function(t,n){var r=t+"/"+(n||"");return e.cache[r]||(e.cache[r]=e(t,n))};e.copyAsGlobal=function(e){return h(e,"g")};e.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.execAt=function(e,t,n,r){t=h(t,"g"+(r&&l?"y":""));t.lastIndex=n=n||0;var i=t.exec(e);if(r){return i&&i.index===n?i:null}else{return i}};e.freezeTokens=function(){e.addToken=function(){throw Error("can't run addToken after freezeTokens")}};e.isRegExp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"};e.iterate=function(e,t,n,r){var i=h(t,"g"),s=-1,o;while(o=i.exec(e)){n.call(r,o,++s,e,i);if(i.lastIndex===o.index){i.lastIndex++}}if(t.global){t.lastIndex=0}};e.matchChain=function(t,n){return function r(t,i){var s=n[i].regex?n[i]:{regex:n[i]},o=h(s.regex,"g"),u=[],a;for(a=0;a<t.length;a++){e.iterate(t[a],o,function(e){u.push(s.backref?e[s.backref]||"":e[0])})}return i===n.length-1||!u.length?u:r(u,i+1)}([t],0)};RegExp.prototype.apply=function(e,t){return this.exec(t[0])};RegExp.prototype.call=function(e,t){return this.exec(t)};RegExp.prototype.exec=function(e){var t=o.exec.apply(this,arguments),n,r;if(t){if(!u&&t.length>1&&v(t,"")>-1){r=RegExp(this.source,o.replace.call(p(this),"g",""));o.replace.call(e.slice(t.index),r,function(){for(var e=1;e<arguments.length-2;e++){if(arguments[e]===undefined){t[e]=undefined}}})}if(this._xregexp&&this._xregexp.captureNames){for(var i=1;i<t.length;i++){n=this._xregexp.captureNames[i-1];if(n){t[n]=t[i]}}}if(!a&&this.global&&!t[0].length&&this.lastIndex>t.index){this.lastIndex--}}return t};if(!a){RegExp.prototype.test=function(e){var t=o.exec.call(this,e);if(t&&this.global&&!t[0].length&&this.lastIndex>t.index){this.lastIndex--}return!!t}}String.prototype.match=function(t){if(!e.isRegExp(t)){t=RegExp(t)}if(t.global){var n=o.match.apply(this,arguments);t.lastIndex=0;return n}return t.exec(this)};String.prototype.replace=function(n,r){var i=e.isRegExp(n),s,u,a;if(i&&typeof r.valueOf()==="string"&&r.indexOf("${")===-1&&f){return o.replace.apply(this,arguments)}if(!i){n=n+""}else{if(n._xregexp){s=n._xregexp.captureNames}}if(typeof r==="function"){u=o.replace.call(this,n,function(){if(s){arguments[0]=new String(arguments[0]);for(var e=0;e<s.length;e++){if(s[e]){arguments[0][s[e]]=arguments[e+1]}}}if(i&&n.global){n.lastIndex=arguments[arguments.length-2]+arguments[0].length}return r.apply(null,arguments)})}else{a=this+"";u=o.replace.call(a,n,function(){var e=arguments;return o.replace.call(r,t,function(t,n,r){if(n){switch(n){case"$":return"$";case"&":return e[0];case"`":return e[e.length-1].slice(0,e[e.length-2]);case"'":return e[e.length-1].slice(e[e.length-2]+e[0].length);default:var i="";n=+n;if(!n){return t}while(n>e.length-3){i=String.prototype.slice.call(n,-1)+i;n=Math.floor(n/10)}return(n?e[n]||"":"$")+i}}else{var o=+r;if(o<=e.length-3){return e[o]}o=s?v(s,r):-1;return o>-1?e[o+1]:t}})})}if(i&&n.global){n.lastIndex=0}return u};String.prototype.split=function(t,n){if(!e.isRegExp(t)){return o.split.apply(this,arguments)}var r=this+"",i=[],s=0,u,a;if(n===undefined||+n<0){n=Infinity}else{n=Math.floor(+n);if(!n){return[]}}t=e.copyAsGlobal(t);while(u=t.exec(r)){if(t.lastIndex>s){i.push(r.slice(s,u.index));if(u.length>1&&u.index<r.length){Array.prototype.push.apply(i,u.slice(1))}a=u[0].length;s=t.lastIndex;if(i.length>=n){break}}if(t.lastIndex===u.index){t.lastIndex++}}if(s===r.length){if(!o.test.call(t,"")||a){i.push("")}}else{i.push(r.slice(s))}return i.length>n?i.slice(0,n):i};e.addToken(/\(\?#[^)]*\)/,function(e){return o.test.call(r,e.input.slice(e.index+e[0].length))?"":"(?:)"});e.addToken(/\((?!\?)/,function(){this.captureNames.push(null);return"("});e.addToken(/\(\?<([$\w]+)>/,function(e){this.captureNames.push(e[1]);this.hasNamedCapture=true;return"("});e.addToken(/\\k<([\w$]+)>/,function(e){var t=v(this.captureNames,e[1]);return t>-1?"\\"+(t+1)+(isNaN(e.input.charAt(e.index+e[0].length))?"":"(?:)"):e[0]});e.addToken(/\[\^?]/,function(e){return e[0]==="[]"?"\\b\\B":"[\\s\\S]"});e.addToken(/^\(\?([imsx]+)\)/,function(e){this.setFlag(e[1]);return""});e.addToken(/(?:\s+|#.*)+/,function(e){return o.test.call(r,e.input.slice(e.index+e[0].length))?"":"(?:)"},e.OUTSIDE_CLASS,function(){return this.hasFlag("x")});e.addToken(/\./,function(){return"[\\s\\S]"},e.OUTSIDE_CLASS,function(){return this.hasFlag("s")})})()}}window.Bixt=window.Bixt||{};window.Bixt.Widgets=window.Bixt.Widgets||{};Bixt.Widgets.Words=function(e){this.init(e)};Bixt.track=function(e){if(document.getElementById&&document.getElementById("Bixt_sys_iframe")){document.getElementById("Bixt_sys_iframe").src=Bixt.Util.getMainUrl()+"aff/track"+"?"+"word="+e.word+"&user_id="+e.user_id+"&domain="+e.domain+"&target_url="+e.target_url+""}};Bixt.Widgets.Words.prototype={ver:"1.0",init:function(e){Bixt.Util.log(new Date);this.options={user_id:0,max_links:4,auto_parse:1,domain:"","":""};for(attr in e){this.options[attr]=e[attr]}var t=this;Bixt.Util.log("User Data URL: "+Bixt.Util.getUserDataFile(this.options));this.loadScript(Bixt.Util.getUserDataFile(this.options),function(){Bixt.Util.log("User data loaded.");Bixt.Util.log(Bixt_data);t.setData(Bixt_data);if(t.options.auto_parse){Bixt.Util.log("Auto parsing links.");t.parse()}});return this},setData:function(e){this.options.user_data=e},loadScript:function(e,t){var n=document.createElement("script");n.type="text/javascript";n.async=true;n.src=e;if(document.getElementsByTagName("head")){document.getElementsByTagName("head")[0].appendChild(n)}else if(document.getElementsByTagName("body")){document.getElementsByTagName("body")[0].appendChild(n)}else{Bixt.Util.log("Bixt: HTML document is missing the HEAD or BODY tag. Cannot continue. What document is that ?")}if(t){n.onreadystatechange=function(){if(n.readyState=="loaded"||n.readyState=="complete"){t()}else{}};n.onload=function(){t();return}}},checkPosition:function(e){var t=e.match.index;var n=e.buffer;Bixt.Util.log(e);while(t){if(n.charAt(t)=="<"||n.charAt(t)=="-"&&n.charAt(t-1)=="-"&&n.charAt(t-2)=="!"&&n.charAt(t-3)=="<"){Bixt.Util.log("L:attrib/comment; word:"+e.match.word);return 0}else if(n.charAt(t)==">"){Bixt.Util.log("R:our of a tag; word:"+e.match.word);return 1}t--}return 0},create_link:function(e,n){var r=document.createElement("a");r.setAttribute("target","_blank");r.setAttribute("href",n.target_url);r.setAttribute("rel","external nofollow norewrite");if(t){r.setAttribute("onclick","Bixt.track({"+" word: '"+Bixt.Util.escape(e.data)+"',"+" user_id: '"+Bixt.Util.escape(this.options.user_id)+"',"+" domain: '"+Bixt.Util.escape(this.options.domain)+"',"+"target_url : '"+Bixt.Util.escape(n.target_url)+"'});")}r.innerHTML=e.data;if(Bixt.Util.empty(n.rec.description)&&n.rec.url.indexOf("amazon")!=-1){n.rec.description=n.rec.url;n.rec.description=n.rec.description.replace(/.*?amazon\.\w{2,4}(?:\.\w{2,4})?\/(.*?)\/dp.*/i,"$1");n.rec.description=n.rec.description.replace(/[-_]/ig," ")}if(!Bixt.Util.empty(n.rec.description)){var i=" | words2aff links by Bixt.net";var s=n.rec.description;r.setAttribute("title",s+i)}var o=document.createElement("SPAN");o.appendChild(r);return o},replace_cnt:{},_parse:function(t){var n=t.keyword;var r=t.keyword.toLowerCase();var i=t.container;var s=e("\\b("+e.escape(n)+")\\b","i");if(i.nodeName.toLowerCase()=="body"){var o=i.innerHTML;o=o.toLowerCase();if(o.indexOf(r)==-1||!s.test(o)){return}}for(var u=0;u<i.childNodes.length;u++){var a=i.childNodes[u];var f=a.parentNode?a.parentNode.nodeName.toLowerCase():"";if(a.nodeType==3){if(f&&a.parentNode.className.indexOf("bixt_tooltip")==-1&&(f=="body"||f=="span"||f=="p"||f=="div")){var l;var c=a.data;var h=c.toLowerCase();if(h.indexOf(r)!=-1&&(!(r in this.replace_cnt)||this.replace_cnt[r]<2)){if((l=c.search(s))!=-1){var p=document.createElement("SPAN");p.className+="Bixt_parent_link_container term_"+n;a.parentNode.replaceChild(p,a);l=h.indexOf(r);p.appendChild(document.createTextNode(c.substr(0,l)));p.appendChild(this.create_link(document.createTextNode(c.substr(l,n.length)),t));c=c.substr(l+n.length);h=h.substr(l+n.length);p.appendChild(document.createTextNode(c));this.replace_cnt[r]=this.replace_cnt[r]||0;this.replace_cnt[r]++}}}}else{var d=t;d.container=a;this._parse(d)}}},parse:function(){var e=this.options.user_data.data.keywords;for(var t in e){var n=e[t];var r=n.keyword;if(Bixt.Util.empty(r)){continue}var i=n.url||this.options.user_data.meta.default_target_url;this._parse({keyword:r,target_url:i,container:document.body,rec:n,"":""})}if(document.createElement&&(typeof bixt_cfg.branding=="undefined"||bixt_cfg.branding)){var s=document.createElement("div");s.id="Bixt_branding_booter";s.setAttribute("align","center");s.style.margin="0px auto";s.className="Bixt_branding_footer_must_always_remain_visible Bixt_branding_footer";s.innerHTML="Affiliate links generated by <a href='http://bixt.net/aff/site/"+"?utm_source="+window.location.hostname+"&utm_medium=branding_footer&utm_campaign=product"+" ' target='_blank' title='Convert words into affiliate links.'>Bixt.net</a>";document.body.appendChild(s)}return this},"":""};Bixt.Util={domain:{production:{host:"bixt.net",cdnHost:"cdn.bixt.net",webPath:"/",sslHost:"ssl.orbisius.com",sslCdnHost:"ssl.orbisius.com",sslWebPath:"/apps/bixt/public/"},development:{host:"localhost.orbisius.com",cdnHost:"localhost.orbisius.com",webPath:"/projects/aff/project/public/",sslHost:"localhost.orbisius.com",sslCdnHost:"localhost.orbisius.com",sslWebPath:"/projects/aff/project/public/"}},getMainUrl:function(){if(typeof bixt_cfg.env=="undefined"||bixt_cfg.env!="live"&&(window.location.href.indexOf(".dev.")!=-1||window.location.href.indexOf("localhost")!=-1)){return"https:"==document.location.protocol?"http://"+this.domain.development.sslHost+this.domain.development.sslWebPath:"http://"+this.domain.development.host+this.domain.development.webPath}else{return"https:"==document.location.protocol?"https://"+this.domain.production.sslHost+this.domain.production.sslWebPath:"http://"+this.domain.production.host+this.domain.production.webPath}},getUserDataFile:function(e){var t=this.getMainUrl();var n=this.calcHash(e.user_id);t+="user_data/"+n.charAt(0)+"/"+n.charAt(1)+"/"+n.charAt(2)+"/"+n.charAt(3)+"/"+e.user_id+"/"+e.domain+".js?__rnd="+parseInt(Math.random()*99999999);return t},empty:function(e){return typeof e=="undefined"||e==""},escape:function(e){return escape(e)},unescape:function(e){return unescape(e)},test:function(e){return typeof e=="undefined"||e==""},utf8_encode:function(e){if(e===null||typeof e==="undefined"){return""}var t=e+"";var n="",r,i,s=0;r=i=0;s=t.length;for(var o=0;o<s;o++){var u=t.charCodeAt(o);var a=null;if(u<128){i++}else if(u>127&&u<2048){a=String.fromCharCode(u>>6|192)+String.fromCharCode(u&63|128)}else{a=String.fromCharCode(u>>12|224)+String.fromCharCode(u>>6&63|128)+String.fromCharCode(u&63|128)}if(a!==null){if(i>r){n+=t.slice(r,i)}n+=a;r=i=o+1}}if(i>r){n+=t.slice(r,s)}return n},calcHash:function(e){var t=function(e,t){var n=e<<t|e>>>32-t;return n};var n=function(e){var t="";var n;var r;for(n=7;n>=0;n--){r=e>>>n*4&15;t+=r.toString(16)}return t};var r;var i,s;var o=new Array(80);var u=1732584193;var a=4023233417;var f=2562383102;var l=271733878;var c=3285377520;var h,p,d,v,m;var g;e=this.utf8_encode(e);var y=e.length;var b=[];for(i=0;i<y-3;i+=4){s=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3);b.push(s)}switch(y%4){case 0:i=2147483648;break;case 1:i=e.charCodeAt(y-1)<<24|8388608;break;case 2:i=e.charCodeAt(y-2)<<24|e.charCodeAt(y-1)<<16|32768;break;case 3:i=e.charCodeAt(y-3)<<24|e.charCodeAt(y-2)<<16|e.charCodeAt(y-1)<<8|128;break}b.push(i);while(b.length%16!=14){b.push(0)}b.push(y>>>29);b.push(y<<3&4294967295);for(r=0;r<b.length;r+=16){for(i=0;i<16;i++){o[i]=b[r+i]}for(i=16;i<=79;i++){o[i]=t(o[i-3]^o[i-8]^o[i-14]^o[i-16],1)}h=u;p=a;d=f;v=l;m=c;for(i=0;i<=19;i++){g=t(h,5)+(p&d|~p&v)+m+o[i]+1518500249&4294967295;m=v;v=d;d=t(p,30);p=h;h=g}for(i=20;i<=39;i++){g=t(h,5)+(p^d^v)+m+o[i]+1859775393&4294967295;m=v;v=d;d=t(p,30);p=h;h=g}for(i=40;i<=59;i++){g=t(h,5)+(p&d|p&v|d&v)+m+o[i]+2400959708&4294967295;m=v;v=d;d=t(p,30);p=h;h=g}for(i=60;i<=79;i++){g=t(h,5)+(p^d^v)+m+o[i]+3395469782&4294967295;m=v;v=d;d=t(p,30);p=h;h=g}u=u+h&4294967295;a=a+p&4294967295;f=f+d&4294967295;l=l+v&4294967295;c=c+m&4294967295}g=n(u)+n(a)+n(f)+n(l)+n(c);return g.toLowerCase()},log:function(e){if("console"in window){if(typeof e=="string"){e="Bixt: "+e}else{console.log("Bixt:")}console.log(e)}},"":""};if(typeof bixt_cfg!="undefined"){Bixt.Util.log("bixt_cfg config found.");Bixt.Util.log(bixt_cfg);new Bixt.Widgets.Words(bixt_cfg)}else{Bixt.Util.log("bixt_cfg config NOT found.")}})()